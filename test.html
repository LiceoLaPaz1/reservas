<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Test reserva GAS base</title>
</head>
<body>
  <h1>Test Reserva Básico</h1>
  <button id="btnTest">Enviar reserva</button>
  <script>
    const endpoint = "https://script.google.com/macros/s/AKfycbxyPc9vCMNYKI7zQTXLWb-3BuuNgwnK8EY4cI-2581r_BRJvtnxKPDQgtIyvf9TKZHrag/exec";

    document.getElementById("btnTest").onclick = () => {
      const reserva = {
        id: Date.now(),
        nombre: "Elizabeth",
        apellido: "Test",
        fecha: new Date().toISOString().split("T")[0],
        turno: "matutino",
        hora: "1era",
        recurso: "Cañón",
        fechaReserva: new Date().toISOString()
      };

      const payload = new URLSearchParams({ data: JSON.stringify(reserva) });

      fetch(endpoint, {
        method: "POST",
        body: payload
      })
      .then(res => res.text())
      .then(text => {
        console.log("Server responded:", text);
        alert("Completado: " + text);
      })
      .catch(err => {
        console.error("Fetch error:", err);
        alert("Error al conectar con servidor: " + err);
      });
    };
  </script>
</body>
</html>
